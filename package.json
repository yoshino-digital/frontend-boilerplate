{
  "name": "yoshino-yoi-boilerplate",
  "version": "0.0.1",
  "description": "Lightweight setup to create static websites with YOI - the Yoshino frontend component library.",
  "author": "yoshino.digital dev team",
  "devDependencies": {
    "autoprefixer": "^6.7.7",
    "bower": "^1.7.10",
    "browser-sync": "^2.18.8",
    "chokidar-cli": "^1.2.0",
    "cssnano-cli": "^1.0.5",
    "less": "^2.7.2",
    "nunjucks-cli": "^0.5.1",
    "postcss-cli": "^4.1.1",
    "uglify-js": "^2.8.14",
    "uncss": "^0.16.1"
  },
  "scripts": {
    "postinstall": "npm run yoi-update && npm run yoi-init && npm run build && npm run serve",
    "dist-empty": "rm -rf dist && mkdir dist && mkdir dist/assets && mkdir dist/assets/css dist/assets/fonts dist/assets/img dist/assets/js",
    "dist-clean" : "rm dist/assets/css/screen.reduced.css",
    "copy": "npm run copy-favicon && npm run copy-images && npm run copy-scripts && npm run copy-fonts",
    "copy-favicon": "cp src/assets/img/favicon.ico dist",
    "copy-images": "rsync -av --exclude='readme.md' src/assets/img/* dist/assets/img",
    "copy-scripts": "cp bower_components/jquery/dist/jquery.min.js dist/assets/js",
    "copy-fonts": "rsync -av --exclude='readme.md' src/assets/fonts/* dist/assets/fonts",
    "yoi-update": "bower update",
    "yoi-init": "npm run yoi-less && npm run yoi-js-index",
    "yoi-less": "npm run yoi-less-config && npm run yoi-less-index",
    "yoi-less-config": "find bower_components/yoshino-yoi/src/less/config -name '*.less' -exec cp {} src/assets/less/config \\;",
    "yoi-less-index": "npm run yoi-less-utilities-index && npm run yoi-less-components-index",
    "yoi-less-utilities-index": "find bower_components/yoshino-yoi/src/less/utilities -name '*.less' -exec echo '@import \"./{}\";' \\; > src/assets/less/yoi-utilities.less",
    "yoi-less-components-index": "find bower_components/yoshino-yoi/src/components -name '*.less' -exec echo '@import \"./{}\";' \\; > src/assets/less/yoi-components.less",
    "yoi-js-index": "npm run yoi-js-actions-index && npm run yoi-js-behaviours-index && npm run yoi-js-modules-index && npm run yoi-js-components-index",
    "yoi-js-actions-index": "find bower_components/yoshino-yoi/src/js/actions -name '*.js' -exec echo './{}' \\; > src/assets/js/yoi-actions.index",
    "yoi-js-behaviours-index": "find bower_components/yoshino-yoi/src/js/behaviours -name '*.js' -exec echo './{}' \\; > src/assets/js/yoi-behaviours.index",
    "yoi-js-modules-index": "find bower_components/yoshino-yoi/src/js/modules -name '*.js' -exec echo './{}' \\; > src/assets/js/yoi-modules.index",
    "yoi-js-components-index": "find bower_components/yoshino-yoi/src/components -name '*.js' -exec echo './{}' \\; > src/assets/js/yoi-components.index",
    "styles-process": "postcss --use autoprefixer -b 'last 2 versions' dist/assets/css/screen.css -o dist/assets/css/screen.css",
    "styles-compile": "lessc src/assets/less/theme.less dist/assets/css/screen.css",
    "styles-compress": "cssnano dist/assets/css/screen.css dist/assets/css/screen.css --svgo",
    "styles-reduce": "uncss dist/**/*.html --csspath dist/assets/css/ --htmlroot dist/ > dist/assets/css/screen.reduced.css",
    "build": "npm run dist-empty && npm run build-scripts && npm run build-styles && npm run build-templates && npm run copy",
    "build-scripts": "uglifyjs $(echo 'bower_components/yoshino-yoi/src/js/yoi.js' ; echo $(cat src/assets/js/yoi-*.index) ; echo $(find src/assets/js/theme -name '*.js' -exec echo '{}' \\;)) --source-map-inline --beautify -o dist/assets/js/scripts.js",
    "build-styles": "npm run styles-compile --source-map-map-inline && npm run styles-process",
    "build-templates": "nunjucks **/*.njk --options src/templates/_config.json --path src/templates --out dist",
    "publish": "npm run dist-empty && npm run build-templates && npm run publish-scripts && npm run copy && npm run publish-styles && npm run dist-clean",
    "publish-scripts": "uglifyjs $(echo 'bower_components/yoshino-yoi/src/js/yoi.js' ; echo $(cat src/assets/js/yoi-*.index) ; echo $(find src/assets/js/theme -name '*.js' -exec echo '{}' \\;)) --compress -o dist/assets/js/scripts.js",
    "publish-styles": "npm run styles-compile && npm run styles-process && npm run styles-reduce && npm run styles-compress",
    "serve": "npm run watch & browser-sync start --server 'dist' --files 'dist' --cors --no-inject-changes",
    "watch": "npm run watch-fonts & npm run watch-images & npm run watch-scripts & npm run watch-styles & npm run watch-templates",
    "watch-fonts": "chokidar 'src/assets/img/**/*' -c 'npm run copy-fonts'",
    "watch-images": "chokidar 'src/assets/img/**/*' -c 'npm run copy-images'",
    "watch-scripts": "chokidar 'src/assets/js/**/*' -c 'npm run build-scripts'",
    "watch-styles": "chokidar 'src/assets/less/**/*' -c 'npm run build-styles'",
    "watch-templates": "chokidar 'src/templates/**/*' -c 'npm run build-templates'",
    "upload": "scp -r ./dist/* user@server:/html/"
  }
}
